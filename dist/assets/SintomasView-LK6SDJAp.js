import{m as G,x as J,A as K,r as d,a as E,I as w,b as c,d as o,e as l,j as t,f as r,_ as S,B as N,h as V,i as T,w as W,l as X,o as g,k as f,t as p,F as B,g as F,z as L,n as k,s as Z,q as ee,v as ae}from"./index-azXm5qWK.js";import{_ as C}from"./BaseInput-B5gqF_3A.js";import{A as oe,_ as re}from"./BaseTextarea-B1euHMPL.js";import{_ as h}from"./BaseCard-CuGf3w1A.js";import{_ as O}from"./BaseAlert-CrdZ_00x.js";import{P as te}from"./plus-Vr9vRiuN.js";import{M as le,B as se,T as ie}from"./thermometer-CqdVitip.js";import{B as ne,P as ue}from"./pill-UXmC0b2A.js";import{F as de}from"./frown-Ba3hjkYD.js";import{C as ge}from"./check-BYW5gYeV.js";import"./info-D5aF7pvg.js";const me={class:"max-w-2xl mx-auto animate-fade-in"},ce={class:"mb-6"},ve={class:"grid grid-cols-2 sm:grid-cols-3 gap-3",role:"radiogroup"},be=["onClick","aria-pressed","aria-checked"],fe={class:"font-medium text-gray-900"},pe={key:0,class:"mt-4"},ye={class:"space-y-6"},he=["aria-valuetext"],xe={class:"flex justify-between gap-2"},_e=["onClick","aria-label","aria-pressed"],we={class:"text-center"},Se={class:"text-lg font-semibold text-gray-900"},Ve={class:"text-gray-500 ml-2"},Te={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ke={class:"flex gap-3"},Ce={__name:"SintomasView",setup(Me){const P=X(),{addSymptom:j}=J(),{addNotification:A,NOTIFICATION_TYPES:U}=K(),s=d(""),u=d(""),n=d(3),y=d(""),v=d(new Date().toISOString().split("T")[0]),b=d(new Date().toTimeString().slice(0,5)),m=d(""),x=d(!1),_=d(!1),q={Frown:de,Thermometer:ie,Pill:ue,Battery:se,Brain:ne,Moon:le,Plus:te},M={red:"bg-red-100 text-red-600 border-red-200 hover:bg-red-50 hover:border-red-300",orange:"bg-orange-100 text-orange-600 border-orange-200 hover:bg-orange-50 hover:border-orange-300",yellow:"bg-yellow-100 text-yellow-600 border-yellow-200 hover:bg-yellow-50 hover:border-yellow-300",blue:"bg-blue-100 text-blue-600 border-blue-200 hover:bg-blue-50 hover:border-blue-300",purple:"bg-purple-100 text-purple-600 border-purple-200 hover:bg-purple-50 hover:border-purple-300",teal:"bg-teal-100 text-teal-600 border-teal-200 hover:bg-teal-50 hover:border-teal-300",indigo:"bg-indigo-100 text-indigo-600 border-indigo-200 hover:bg-indigo-50 hover:border-indigo-300",gray:"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-50 hover:border-gray-300"},z={red:"ring-2 ring-red-500 ring-offset-2 bg-red-100 border-red-500",orange:"ring-2 ring-orange-500 ring-offset-2 bg-orange-100 border-orange-500",yellow:"ring-2 ring-yellow-500 ring-offset-2 bg-yellow-100 border-yellow-500",blue:"ring-2 ring-blue-500 ring-offset-2 bg-blue-100 border-blue-500",purple:"ring-2 ring-purple-500 ring-offset-2 bg-purple-100 border-purple-500",teal:"ring-2 ring-teal-500 ring-offset-2 bg-teal-100 border-teal-500",indigo:"ring-2 ring-indigo-500 ring-offset-2 bg-indigo-100 border-indigo-500",gray:"ring-2 ring-gray-500 ring-offset-2 bg-gray-100 border-gray-500"},Y={green:"bg-green-500 hover:bg-green-600",lime:"bg-lime-500 hover:bg-lime-600",yellow:"bg-yellow-500 hover:bg-yellow-600",orange:"bg-orange-500 hover:bg-orange-600",red:"bg-red-500 hover:bg-red-600"},$=E(()=>{const i=s.value&&v.value&&b.value;return s.value==="outro"?i&&u.value.trim().length>=2:i}),D=E(()=>w.find(i=>i.value===n.value)||w[2]),Q=i=>{s.value=i,i!=="outro"&&(u.value=""),m.value=""},H=async()=>{if($.value){m.value="",_.value=!0;try{const i=L.find(e=>e.id===s.value),a=s.value==="outro"?u.value:i?.label;await j({type:s.value,customLabel:s.value==="outro"?u.value:null,intensity:n.value,notes:y.value,date:v.value,time:b.value}),A({type:U.ACHIEVEMENT,title:"Sintoma registrado!",message:`${a||"Sintoma"} com intensidade ${n.value}/5 foi salvo com sucesso.`,action:{label:"Ver histórico",route:"/historico"}}),x.value=!0,setTimeout(()=>{s.value="",u.value="",n.value=3,y.value="",v.value=new Date().toISOString().split("T")[0],b.value=new Date().toTimeString().slice(0,5),x.value=!1},2e3)}catch(i){m.value=i.message||"Erro ao registrar sintoma"}finally{_.value=!1}}},I=()=>{P.push("/")};return(i,a)=>(g(),c("div",me,[o("div",ce,[l(r(S),{variant:"ghost",onClick:I},{"icon-left":t(()=>[l(r(oe),{class:"w-5 h-5"})]),default:t(()=>[a[6]||(a[6]=f(" Voltar ",-1))]),_:1})]),l(N,{name:"slide"},{default:t(()=>[x.value?(g(),V(r(O),{key:0,variant:"success",title:"Sintoma registrado com sucesso!",class:"mb-6"},{default:t(()=>[...a[7]||(a[7]=[f(" Seu registro foi salvo. ",-1)])]),_:1})):T("",!0)]),_:1}),o("form",{onSubmit:W(H,["prevent"]),class:"space-y-6"},[m.value?(g(),V(r(O),{key:0,variant:"error",dismissible:"",onDismiss:a[0]||(a[0]=e=>m.value="")},{default:t(()=>[f(p(m.value),1)]),_:1})):T("",!0),l(r(h),null,{header:t(()=>[...a[8]||(a[8]=[o("h2",{class:"text-lg font-semibold text-gray-900"}," Qual sintoma você está sentindo? ",-1)])]),default:t(()=>[o("div",ve,[(g(!0),c(B,null,F(r(L),e=>(g(),c("button",{key:e.id,type:"button",onClick:R=>Q(e.id),class:k(["flex flex-col items-center gap-3 p-4 rounded-xl border-2 transition-all duration-200","focus:outline-none",s.value===e.id?z[e.color]:`border-gray-100 ${M[e.color]}`]),"aria-pressed":s.value===e.id,role:"radio","aria-checked":s.value===e.id},[o("div",{class:k(["w-14 h-14 rounded-xl flex items-center justify-center transition-transform",s.value===e.id?"scale-110":"",M[e.color].split(" ").slice(0,2).join(" ")])},[(g(),V(Z(q[e.icon]),{class:"w-7 h-7","aria-hidden":"true"}))],2),o("span",fe,p(e.label),1)],10,be))),128))]),l(N,{name:"slide"},{default:t(()=>[s.value==="outro"?(g(),c("div",pe,[l(r(C),{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),label:"Descreva o sintoma",placeholder:"Ex: Tontura, Coceira, Falta de ar...",required:"",minlength:2,maxlength:100,error:u.value.length>0&&u.value.length<2?"Mínimo 2 caracteres":""},null,8,["modelValue","error"])])):T("",!0)]),_:1})]),_:1}),l(r(h),null,{header:t(()=>[...a[9]||(a[9]=[o("h2",{class:"text-lg font-semibold text-gray-900"}," Qual a intensidade? ",-1)])]),default:t(()=>[o("div",ye,[a[10]||(a[10]=o("div",{class:"flex items-center justify-between text-sm text-gray-500"},[o("span",null,"Muito leve"),o("span",null,"Muito intenso")],-1)),ee(o("input",{id:"intensity","onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),type:"range",min:"1",max:"5",step:"1",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-teal-600","aria-valuetext":D.value.label},null,8,he),[[ae,n.value,void 0,{number:!0}]]),o("div",xe,[(g(!0),c(B,null,F(r(w),e=>(g(),c("button",{key:e.value,type:"button",onClick:R=>n.value=e.value,class:k(["flex-1 h-12 rounded-xl font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",n.value===e.value?`${Y[e.color]} text-white scale-105 shadow-lg`:"bg-gray-100 text-gray-600 hover:bg-gray-200"]),"aria-label":`Intensidade ${e.value}: ${e.label}`,"aria-pressed":n.value===e.value},p(e.value),11,_e))),128))]),o("p",we,[o("span",Se,p(D.value.label),1),o("span",Ve,"("+p(n.value)+"/5)",1)])])]),_:1}),l(r(h),null,{header:t(()=>[...a[11]||(a[11]=[o("h2",{class:"text-lg font-semibold text-gray-900"}," Quando ocorreu? ",-1)])]),default:t(()=>[o("div",Te,[l(r(C),{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=e=>v.value=e),type:"date",label:"Data",required:"",max:new Date().toISOString().split("T")[0]},null,8,["modelValue","max"]),l(r(C),{modelValue:b.value,"onUpdate:modelValue":a[4]||(a[4]=e=>b.value=e),type:"time",label:"Horário",required:""},null,8,["modelValue"])])]),_:1}),l(r(h),null,{default:t(()=>[l(r(re),{modelValue:y.value,"onUpdate:modelValue":a[5]||(a[5]=e=>y.value=e),label:"Observações (opcional)",placeholder:"Descreva detalhes adicionais, possíveis causas, medicamentos tomados...",maxlength:500,rows:4,"show-count":""},null,8,["modelValue"])]),_:1}),o("div",ke,[l(r(S),{variant:"secondary",size:"lg","full-width":"",onClick:I},{default:t(()=>[...a[12]||(a[12]=[f(" Cancelar ",-1)])]),_:1}),l(r(S),{type:"submit",variant:"primary",size:"lg","full-width":"",disabled:!$.value,loading:_.value},{"icon-left":t(()=>[l(r(ge),{class:"w-5 h-5"})]),default:t(()=>[a[13]||(a[13]=f(" Registrar Sintoma ",-1))]),_:1},8,["disabled","loading"])])],32)]))}},Ae=G(Ce,[["__scopeId","data-v-1181e327"]]);export{Ae as default};
